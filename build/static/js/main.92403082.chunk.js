(this.webpackJsonpcharlee=this.webpackJsonpcharlee||[]).push([[0],{196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},288:function(e,t,n){},306:function(e,t,n){},323:function(e,t,n){},326:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),i=n.n(a),s=n(29),r=n.n(s),l=(n(196),n(6)),o=(n(197),n(198),n(34));function u(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),i=n[0],s=n[1];var r="gallery-img-item";return!0===i&&(r+="  is-visible"),Object(c.jsx)("div",{className:r,children:Object(c.jsx)("div",{className:"image-container",children:Object(c.jsx)("img",{onLoad:function(){s(!0)},src:e.picture.filename})})})}var j=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)(0),j=Object(l.a)(r,2),d=(j[0],j[1]),b=Object(a.useState)(!1),m=Object(l.a)(b,2),O=m[0],h=m[1];function f(e,t){d(t)}Object(a.useEffect)((function(){fetch("/pictures").then((function(e){return e.text()})).then((function(e){s(JSON.parse(e))}))}),[]);var x,p=i.map((function(e,t){return Object(c.jsx)(u,{picture:e,index:t,onGalleryImgClick:f})})),g={onSlideChange:function(e){return console.log(e)},onLightboxOpened:function(e){return h(!0)},onLightboxClosed:function(e){return h(!1)},onCountSlides:function(e){return console.log(e)}};return O&&(x={filter:"blur(5px)"}),Object(c.jsx)("section",{id:"gallery",children:Object(c.jsx)(o.a,{callbacks:g,options:{thumbnails:{showThumbnails:!1},buttons:{showDownloadButton:!1}},children:Object(c.jsx)("div",{id:"gallery-pictures",style:x,children:p})})})},d=n(26),b=n.n(d),m=n(99),O=n(11),h=(n(287),n(288),n(69)),f=n(340),x=n(342),p=n(63),g=n(344),v=n(48),N=n(174),S=n.n(N),w=(n(306),n(182));var y=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),i=n[0],s=n[1],r={name:"",path:""};e.existingImg&&(r.path=e.existingImg);var o=Object(a.useState)(r),u=Object(l.a)(o,2),j=u[0],d=u[1],b=Object(a.useState)(0),m=Object(l.a)(b,2),O=m[0],h=m[1],f=Object(a.useState)(0),x=Object(l.a)(f,2),p=x[0],g=x[1],N=Object(a.useState)(!1),y=Object(l.a)(N,2),k=y[0],C=y[1];Object(a.useRef)(),Object(a.useEffect)((function(){""!==i&&I()}),[i]);var E,I=function(){var t=new FormData;t.append("file",i),S.a.post("http://localhost:80/upload",t,{onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);h(t)}}).then((function(t){d({name:t.data.name,path:"http://localhost:80"+t.data.path}),e.updateInput(t.data.path)})).catch((function(e){return console.log(e)}))};""!==i||j.path||(E=Object(c.jsxs)("div",{className:"instruction-container",children:[Object(c.jsx)("i",{className:"plus big icon"}),Object(c.jsx)("hr",{}),Object(c.jsx)("span",{children:"Dra bild hit f\xf6r att l\xe4gga till, eller klicka p\xe5 plus ikonen"})]}));var _="ui progress progress-bar";return O>0&&O<100?_="ui active progress progress-bar":100===O&&(_+=" success"),Object(c.jsxs)("div",{id:"file-upload-container",children:[Object(c.jsx)(w.a,{onDrop:function(e){return function(e){h(0);var t=e[0];s(t)}(e)},children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(c.jsxs)("div",Object(v.a)(Object(v.a)({id:"inner-drop-zone"},t()),{},{children:[Object(c.jsx)("input",Object(v.a)(Object(v.a)({},n()),{},{accept:"image/*"})),E,Object(c.jsx)("div",{className:"uploaded-img",children:j.path&&Object(c.jsx)("img",{src:j.path,alt:j.name,style:{marginTop:p+"px",opacity:!0===k?"1":"0"},onLoad:function(e){return function(e){var t=document.getElementById("inner-drop-zone").offsetHeight,n=e.target.clientHeight;g((t-n)/2),C(!0)}(e)}})})]}))}}),Object(c.jsx)("div",{className:_,style:{width:"100%"},children:Object(c.jsx)("div",{className:"bar",style:{width:O+"%",minWidth:"0px"}})})]})},k=n(341),C=n(176),E=n(177),I=n.n(E);var _=function(e){var t=null!==e.defaultValue?e.defaultValue:"<p></p>",n=Object(a.useState)(t),s=Object(l.a)(n,2),r=s[0];return s[1],Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsx)("h2",{}),Object(c.jsx)(C.CKEditor,{editor:I.a,data:r,onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(t,n){var c=n.getData();e.updateInput(c)},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})]})},T=function(e,t){var n=e;return"filename"===e?n="Bild":"picture_type"===e?n="Kategori":"price"===e?n="Pris":"caption"===e?n="Titel":"description"===e?n="Beskrivning":"msg"===e?n="Meddelande":"name"===e?n="Namn":"email"===e?n="Email":"read"===e?n="L\xe4st":"messages"===e?n="Meddelanden":"pictures"===e?n="Bilder":"about"===e?n="Om mig":"created_at"===e&&(n="/pictures"===t?"Bild upplagd":"Datum"),n};function U(e){var t,n,s=null!==e.defaultValue?e.defaultValue:"",r=Object(a.useState)(s),o=Object(l.a)(r,2),u=o[0],j=o[1],d=Object(a.useState)({column:e.column.columnName}),b=Object(l.a)(d,2),m=b[0],O=b[1],h=Object(a.useState)(0),f=Object(l.a)(h,2),x=f[0],p=f[1];Object(a.useRef)(null);function g(e){j(e)}function v(t){var n={column:e.column.columnName};if("caption"===e.column.columnName)t.length<3&&(n.msg="Titel  f\xe5r inte vara tom");else if("description"===e.column.columnName)t.length<3&&(n.msg="Beskrivning f\xe5r inte vara tom");else if("price"===e.column.columnName){t.match(/^[0-9]+$/)||(n.msg="F\xe5r inte inneh\xe5lla bokst\xe4ver")}else"picture_type"===e.column.columnName&&"0"===t&&(n.msg="V\xe4lj kategori");return n}Object(a.useEffect)((function(){if(!0===e.showChildError){var t=v(u);O(t)}}),[e.showChildError]),Object(a.useEffect)((function(){if(u!==s){var t=v(u);if(O(t),!t.msg){var n={};n[e.column.columnName]=u,e.onUpdateFormField(n)}}}),[u]),Object(a.useEffect)((function(){e.updateFormErrors(m)}),[m]),m.msg&&m.column===e.column.columnName&&(t=Object(c.jsx)(k.a,{negative:!0,children:Object(c.jsx)("p",{children:m.msg})}));var N=Object(c.jsx)("div",{id:"form-img-container",children:Object(c.jsx)("div",{className:"inner-img-container",children:Object(c.jsx)(y,{updateInput:g,existingImg:e.formData.profile_img})})}),S=Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsx)("label",{children:"description"===e.column.columnName?"Beskrivning":"Om mig"}),Object(c.jsx)("textarea",{onChange:function(e){return g(e.target.value)},rows:"2",children:u})]});switch(e.column.columnName){case"filename":n=null===e.defaultValue?Object(c.jsx)("div",{id:"form-img-container",children:Object(c.jsx)("div",{className:"inner-img-container",children:Object(c.jsx)(y,{updateInput:g})})}):Object(c.jsx)("div",{id:"form-img-container",children:Object(c.jsx)("div",{className:"inner-img-container",id:"item-img",children:Object(c.jsx)("img",{src:e.defaultValue,style:{marginTop:x+"px"},onLoad:function(e){return function(e){var t=document.getElementById("item-img").offsetHeight;console.log(t);var n=e.target.clientHeight;console.log(n);var c=(t-n)/2;console.log(c),p(c)}(e)}})})});break;case"profile_img":n=N;break;case"picture_type":n=Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsx)("label",{children:"Gallery"}),Object(c.jsxs)("select",{onChange:function(e){return g(e.target.value)},children:[Object(c.jsx)("option",{value:"0",children:"Gallery"}),Object(c.jsx)("option",{selected:"paintings"===e.defaultValue?"selected":"",value:"paintings",children:"Maleri"}),Object(c.jsx)("option",{selected:"sculptures"===e.defaultValue?"selected":"",value:"sculpture",children:"Mosaik"})]})]});break;case"description":n=S;break;case"about_text":n=Object(c.jsx)(_,{updateInput:g,defaultValue:e.defaultValue});break;case"price":n=Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsx)("label",{children:"Pris"}),Object(c.jsxs)("div",{className:"ui right labeled input",children:[Object(c.jsx)("input",{value:u,onChange:function(e){return g(e.target.value)},type:"text"}),Object(c.jsx)("div",{className:"ui basic label",children:"kr"})]})]});break;default:n=Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsx)("label",{children:"Titel"}),Object(c.jsx)("input",{value:u,onChange:function(e){return g(e.target.value)},placeholder:e.column.columnName,type:"text"})]})}return Object(c.jsxs)("div",{className:"field",children:[n,t]})}var F=function(e){var t=null!==e.selectedItem?e.selectedItem:{},n=Object(a.useState)(t),s=Object(l.a)(n,2),r=s[0],o=s[1],u=Object(a.useState)([]),j=Object(l.a)(u,2),d=j[0],m=j[1],O=Object(a.useState)(!1),f=Object(l.a)(O,2),x=f[0],p=f[1];function g(e){var t=Object(v.a)(Object(v.a)({},r),e);o(t)}function N(e){var t=d,n=d.findIndex((function(t){return t.column===e.column}));e.msg?-1===n&&t.push(e):t=[].concat(Object(h.a)(d.slice(0,n-1)),Object(h.a)(d.slice(n+1,d.length-1))),m(t)}function S(){var t=e.fetchUrl,n="POST",c="create";null!==e.selectedItem&&("/pictures"===e.fetchUrl&&(t+="/"+r.picture_id),n="PUT",c="update"),b.a.ajax({url:t,type:n,data:r}).done((function(t){"/about"===e.fetchUrl?e.onFinishFormSubmit():e.onFinishFormSubmit(c,{picture_id:0},"success")}))}var w,y=e.columns.map((function(t,n){var a=!0;if(("created_at"===t.columnName||t.columnName.indexOf("_id")>-1)&&(a=!1),!0===a){var i=null;return null!==e.selectedItem&&(i=e.selectedItem[t.columnName]),Object(c.jsx)(U,{column:t,defaultValue:i,onUpdateFormField:g,updateFormErrors:N,showChildError:x,formData:r},n)}}));return"/pictures"===e.fetchUrl&&(w=Object(c.jsx)("button",{onClick:e.onBackButtonClick,className:"ui icon button",children:Object(c.jsx)("i",{className:"left chevron icon"})})),Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsxs)("div",{className:"form-header",children:[w,Object(c.jsx)("h1",{children:T(e.fetchUrl.split("/")[1])})]}),Object(c.jsx)("div",{className:"add-item-form "+(!0===x?"missing-file":""),children:Object(c.jsxs)("div",{className:"ui form",children:[y,Object(c.jsx)("button",{className:"ui button",onClick:function(){0===d.length?"/pictures"===e.fetchUrl?r.filename&&r.picture_type&&r.price&&r.caption&&r.description?(p(!1),S()):p(!0):(p(!1),S()):p(!0)},children:null!==e.selectedItem?"Uppdatera":"L\xe4gg till Bild"})]})})]})};function B(e){var t,n,a=i.a.useState(!1),s=Object(l.a)(a,2),r=s[0],o=s[1];return"/pictures"===e.fetchUrl?n=Object(c.jsx)("button",{className:"ui icon blue button",onClick:function(){return e.setSelectedItem(e.item)},children:Object(c.jsx)("i",{className:"pencil alternate icon"})}):t=Object(c.jsx)("button",{className:"ui icon button",onClick:function(){return e.onReadButtonClick(e.item)},children:Object(c.jsx)("i",{className:"envelope "+(!0===e.item.read?"open":"")+"  outline icon"})}),Object(c.jsxs)("div",{className:"table-row-user-menu",children:[t,n,Object(c.jsxs)(f.a,{basic:!0,onClose:function(){return o(!1)},onOpen:function(){return o(!0)},open:r,size:"tiny",trigger:Object(c.jsx)(x.a,{icon:!0,color:"red",children:Object(c.jsx)(p.a,{name:"trash"})}),children:[Object(c.jsxs)(g.a,{icon:!0,children:[Object(c.jsx)(p.a,{name:"trash alternate outline"}),"Ta bort bild"]}),Object(c.jsx)(f.a.Content,{children:Object(c.jsx)("p",{children:"Vill du radera den h\xe4r bilden?"})}),Object(c.jsxs)(f.a.Actions,{children:[Object(c.jsxs)(x.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return o(!1)},children:[Object(c.jsx)(p.a,{name:"remove"})," Nej"]}),Object(c.jsxs)(x.a,{color:"green",inverted:!0,onClick:function(){return o(!1),void e.deleteItem(e.item)},children:[Object(c.jsx)(p.a,{name:"checkmark"})," Ja"]})]})]})]})}function L(e){var t=e.messages.map((function(t,n){return Object(c.jsx)(M,{message:t,removeMessage:function(){return e.removeMessage(n)}},n)}));return Object(c.jsx)("div",{id:"messages-container",children:t})}function M(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),i=n[0],s=n[1],r=e.message;return Object(a.useEffect)((function(){setTimeout((function(){s(!0),setTimeout((function(){e.removeMessage()}),2e3)}),3e3)}),[]),Object(c.jsxs)("div",{className:"ui "+r.type+" message "+(!0===i?"fadeout":""),children:[Object(c.jsx)("i",{className:"close icon",onClick:function(t){return e.removeMessage()}}),Object(c.jsx)("div",{className:"header",children:r.title}),Object(c.jsx)("p",{children:r.msg})]})}var P=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),s=n[0],r=n[1],u=Object(a.useState)([]),j=Object(l.a)(u,2),d=j[0],m=j[1],O=Object(a.useState)(!1),f=Object(l.a)(O,2),x=f[0],p=f[1],g=Object(a.useState)(!0),v=Object(l.a)(g,2),N=v[0],S=v[1],w=Object(a.useState)(null),y=Object(l.a)(w,2),k=y[0],C=y[1],E=Object(a.useState)("created_at"),I=Object(l.a)(E,2),_=I[0],U=I[1],M=Object(a.useState)([]),P=Object(l.a)(M,2),D=P[0],V=P[1];function W(){S(!0),fetch(e.fetchUrl).then((function(e){return e.text()})).then((function(t){var n=JSON.parse(t),c=[];for(var a in n[0])c.push(a);c=function(e,t){var n=[];return e.forEach((function(e,c){if("msg_id"!==e&&"picture_id"!==e){var a={columnName:e,displayName:T(e,t),menuOnly:"read"===e};n.push(a)}})),n}(c,e.fetchUrl),m(c),"/about"!==e.fetchUrl?r(JSON.parse(t)):(C(JSON.parse(t)[0]),p(!0)),window.scrollTo({top:0,behavior:"smooth"}),S(!1)}))}function J(t){console.log("before delete item"),"/messages"===e.fetchUrl?H(t):function(e){console.log("delete file"),S(!0),b.a.ajax({url:"/delete",type:"POST",data:{path:e.filename}}).done((function(t){H(e)}))}(t)}function H(t){console.log("delete"),b.a.ajax({url:"http://localhost:80"+e.fetchUrl+"/"+(t.picture_id?t.picture_id:t.msg_id),type:"DELETE"}).done((function(e){z("delete",t,"success")}))}function R(t){b.a.ajax({url:"http://localhost:80"+e.fetchUrl+"/"+(t.picture_id?t.picture_id:t.msg_id),type:"PUT",data:{read:!0!==t.read}}).done((function(e){W()}))}function z(e,t,n){console.log(e,t,n);var c=t.picture_id>-1?"Bilden":"Meddelande",a=c+" ",i={type:n,title:a+="Bilden"===c?"create"===e?"\xe4r tillagd":"update"===e?"\xe4r uppdaterad":"\xe4r borttagen":"\xe4r borttaget"},s=[].concat(Object(h.a)(D),[i]);V(s),W()}console.log(D),Object(a.useEffect)((function(){W()}),[]),Object(a.useEffect)((function(){null!==k&&p(!0)}),[k]);var A,G,K,Y,Z=d.map((function(e,t){if(!1===e.menuOnly)return Object(c.jsx)("th",{scope:"col",children:e.displayName},t)})),$=s.sort((function(e,t){return e[_]<t[_]?-1:e[_]>t[_]?1:0})).map((function(t,n){return Object(c.jsxs)("tr",{className:!0===t.read?"read":"",children:[d.map((function(e,n){if(!1===e.menuOnly){var a=t[e.columnName];if("filename"===e.columnName)a=Object(c.jsx)("div",{className:"img-thumbnail",children:Object(c.jsx)("img",{src:t[e.columnName]})});else if("created_at"===e.columnName){var i=new Date(t[e.columnName]);a=i.getDate()+"."+parseInt(i.getMonth()+1)+"."+i.getFullYear()}return Object(c.jsx)("td",{children:a},n)}})),Object(c.jsx)("td",{children:Object(c.jsx)(B,{item:t,deleteItem:J,setSelectedItem:C,fetchUrl:e.fetchUrl,onReadButtonClick:R})})]},n)}));return!1===x?(console.log(s),0===s.length?A="Inga meddelanden":("/pictures"===e.fetchUrl&&(K=Object(c.jsxs)("a",{onClick:function(){return p(!0)},className:"ui green basic button add-img-button",children:[Object(c.jsx)("i",{className:"plus icon"}),"L\xe4gg till bild"]})),!0===N&&(Y=Object(c.jsx)("div",{className:"ui active inverted dimmer",children:Object(c.jsx)("div",{className:"ui text loader",children:Object(c.jsx)("b",{children:"loading..."})})})),A=Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsxs)("div",{className:"table-header",children:[Object(c.jsx)("h1",{children:T(e.fetchUrl.split("/")[1])}),Object(c.jsxs)("div",{className:"ui text menu",children:[Object(c.jsx)("div",{className:"header item",children:"Sortera"}),d.map((function(e,t){return Object(c.jsx)("a",{onClick:function(){return U(e.columnName)},className:"item "+(_===e.columnName?"active":""),children:e.displayName},t)}))]}),K]}),Object(c.jsxs)("div",{className:"dimmable "+e.fetchUrl.split("/")[1],children:[Y,Object(c.jsxs)("table",{className:"ui celled table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Z,Object(c.jsx)("th",{children:"/pictures"===e.fetchUrl?"Redigera/ Ta bort bild":"Radera meddelande"})]})}),Object(c.jsx)("tbody",{children:$})]})]})]}))):G=Object(c.jsx)(F,{columns:d,selectedItem:k,onFinishFormSubmit:function(e,t,n){p(!1),e?z(e,t,n):W()},onBackButtonClick:function(){p(!1),W()},fetchUrl:e.fetchUrl}),Object(c.jsxs)("div",{className:"admin-table-container",children:[Object(c.jsx)(L,{messages:D,removeMessage:function(e){var t=[];D.forEach((function(n,c){c!==e&&t.push(n)})),V(t)}}),Object(c.jsx)(o.a,{options:{thumbnails:{showThumbnails:!1},buttons:{showDownloadButton:!1}},children:A}),G]})},D=n(101),V=n(339);var W=function(e){var t=Object(a.useState)(["pictures","messages","about"]),n=Object(l.a)(t,2),i=n[0],s=(n[1],Object(a.useState)("admin")),r=Object(l.a)(s,2),o=r[0],u=r[1],j=Object(a.useState)(0),d=Object(l.a)(j,2),m=d[0],O=d[1];Object(a.useEffect)((function(){b.a.ajax({url:"http://localhost:80/countreadmsg",type:"GET"}).done((function(e){O(e[0].count)}))}),[]);var h=i.map((function(e,t){var n,a="item";return o===e&&(a+=" active"),"messages"===e&&"0"!==m&&(n=Object(c.jsx)(D.a,{color:"red",floating:!0,children:m})),Object(c.jsxs)(V.a.Item,{as:"a",className:a,onClick:function(){return u(e)},children:[Object(c.jsx)(p.a,{name:"pictures"===e?"picture":"messages"===e?"mail":"user"}),T(e),n]})})),f="hello im admin";"admin"!==o&&(f=i.map((function(e,t){if(o===e)return Object(c.jsx)(P,{fetchUrl:"/"+e},t)})));var x="item";return"admin"===o&&(x+=" active"),Object(c.jsxs)("section",{id:"admin",children:[Object(c.jsxs)(V.a,{compact:!0,children:[Object(c.jsx)(V.a.Item,{as:"a",className:x,onClick:function(){return u("admin")},children:"Admin main"}),h]}),f]})},J=(n(323),n(180));function H(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),i=n[0],s=n[1],r=e.subArray.map((function(e,t){return Object(c.jsx)(R,{picture:e,hovered:i,setHovered:s},t)}));return Object(c.jsx)("div",{className:"container",children:r})}function R(e){var t=e.picture,n=.45*window.innerWidth-30.81;window.innerWidth<577&&(n=.9*window.innerWidth-30.81);var i,s=Object(a.useState)(n),r=Object(l.a)(s,2),o=r[0],u=r[1],j=Object(a.useState)(null),d=Object(l.a)(j,2),b=d[0],m=d[1],O=Object(a.useState)(null),h=Object(l.a)(O,2),f=h[0],x=h[1],p=Object(a.useState)(null),g=Object(l.a)(p,2),v=g[0],N=g[1],S=Object(a.useState)(null),w=Object(l.a)(S,2),y=w[0],k=w[1],C=Object(a.useState)(null),E=Object(l.a)(C,2),I=E[0],_=E[1],T=Object(a.useState)(null),U=Object(l.a)(T,2),F=U[0],B=U[1],L=Object(a.useState)(!1),M=Object(l.a)(L,2),P=M[0],D=M[1],V=Object(a.useState)(null),W=Object(l.a)(V,2),H=W[0],R=W[1],z=Object(a.useState)(!1),A=Object(l.a)(z,2),G=A[0],K=A[1],Y=Object(a.useState)(!1),Z=Object(l.a)(Y,2),$=Z[0],q=Z[1];function Q(){var e=document.getElementById("picture-"+t.picture_id),n=e.getBoundingClientRect(),c=n.top,a=(n.left,c+e.offsetHeight<window.innerHeight&&c>0);q(a)}function X(){K(!0),clearTimeout(i),i=setTimeout(ee,500);var e=.45*window.innerWidth-30.81;window.innerWidth<577&&(e=.9*window.innerWidth-30.81),u(e)}function ee(){K(!1)}function te(){var e,t,n;b>f?n=(b/(e=f/o)-o)/2:t=(f/(e=b/o)-o)/2,k(f/e),N(b/e),B(n),_(t),R(e)}Object(a.useEffect)((function(){window.addEventListener("resize",X),!0===J.isMobile&&window.addEventListener("scroll",Q)}),[]),Object(a.useEffect)((function(){D($)}),[$]),Object(a.useEffect)((function(){te()}),[o]),Object(a.useEffect)((function(){null!==f&&null!==b&&te()}),[f,b]);var ne={},ce="";if(null!==y){var ae=v,ie=y,se=I,re=F;!0===P&&((ae=b/(.9*H))>(ie=f/(.9*H))?re=(b/(.9*H)-o)/2:se=(f/(.9*H)-o)/2),ne={width:ae,height:ie,left:"-"+re+"px",top:"-"+se+"px"},ce=!1===G?"loaded":""}return Object(c.jsx)("div",{className:"box",id:"picture-"+t.picture_id,children:Object(c.jsxs)("div",{className:"inner-box",onMouseEnter:function(){return D(!0)},onMouseLeave:function(){return D(!1)},children:[Object(c.jsx)("img",{style:ne,className:ce,src:t.filename,onLoad:function(e){return function(e){x(e.target.naturalHeight),m(e.target.naturalWidth)}(e)}}),Object(c.jsxs)("div",{className:"info-container",children:[Object(c.jsxs)("div",{className:"left-container",children:[Object(c.jsx)("h2",{children:t.caption}),Object(c.jsx)("p",{children:t.description})]}),Object(c.jsx)("div",{className:"right-container",children:Object(c.jsxs)("span",{children:[t.price.split("kr")[0],Object(c.jsx)("span",{style:{marginLeft:"3px"},children:"kr"})]})})]})]})})}var z=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)([]),u=Object(l.a)(r,2),j=u[0],d=u[1],b=Object(a.useState)(window.innerWidth>577?"normal":"small"),m=Object(l.a)(b,2),O=m[0],h=m[1],f=Object(a.useState)(!1),x=Object(l.a)(f,2),p=x[0],g=x[1];function v(){var e=window.innerWidth>577?"normal":"small";e!==O&&h(e)}function N(e){var t=2;window.innerWidth<577&&(t=1);var n,c=(n=t,e.reduce((function(e,t,c){var a=Math.floor(c/n);return e[a]||(e[a]=[]),e[a].push(t),e}),[]));d(c)}Object(a.useEffect)((function(){fetch("/pictures/"+e.pictureType).then((function(e){return e.text()})).then((function(e){N(JSON.parse(e)),s(JSON.parse(e))})),window.addEventListener("resize",v)}),[]),Object(a.useEffect)((function(){N(i)}),[O]);var S,w=j.map((function(e,t){return Object(c.jsx)(H,{subArray:e},t)})),y={onSlideChange:function(e){return console.log(e)},onLightboxOpened:function(e){return g(!0)},onLightboxClosed:function(e){return g(!1)},onCountSlides:function(e){return console.log(e)}};return p&&(S={filter:"blur(5px)"}),Object(c.jsx)("div",{className:"sub-gallery",children:Object(c.jsx)(o.a,{callbacks:y,options:{thumbnails:{showThumbnails:!1},buttons:{showDownloadButton:!1}},children:Object(c.jsx)("div",{id:"gallery-pictures",style:S,children:w})})})};var A=function(e){return Object(c.jsx)("div",{className:"page-login",children:Object(c.jsx)("div",{className:"ui centered grid container",children:Object(c.jsxs)("div",{className:"nine wide column",children:[Object(c.jsxs)("div",{className:"ui icon warning message",children:[Object(c.jsx)("i",{className:"lock icon"}),Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("div",{className:"header",children:"Login failed!"}),Object(c.jsx)("p",{children:"You might have misspelled your username or password!"})]})]}),Object(c.jsx)("div",{className:"ui fluid card",children:Object(c.jsx)("div",{className:"content",children:Object(c.jsxs)("form",{className:"ui form",method:"POST",children:[Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{children:"User"}),Object(c.jsx)("input",{type:"text",name:"user",placeholder:"User"})]}),Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{type:"password",name:"pass",placeholder:"Password"})]}),Object(c.jsxs)("button",{className:"ui primary labeled icon button",type:"submit",children:[Object(c.jsx)("i",{className:"unlock alternate icon"}),"Login"]})]})})})]})})})};function G(e){var t,n=Object(a.useState)(!1),i=Object(l.a)(n,2),s=i[0],r=i[1],o=e.navigation.map((function(e,t){if("home"!==e.title)return Object(c.jsx)("li",{children:Object(c.jsx)(m.b,{onClick:function(){return r(!1)},to:e.nav_link,children:e.display_name})},t)})),u=Object(c.jsx)("nav",{children:Object(c.jsx)("ul",{children:o})});return window.innerWidth<577&&(u=Object(c.jsx)("i",{className:(!0===s?"close":"bars")+" icon",onClick:function(){return r(!0!==s)}})),!0===s&&(t=Object(c.jsx)("div",{className:"drop-menu-container",children:Object(c.jsx)("ul",{children:o})})),Object(c.jsxs)("header",{children:[Object(c.jsx)("h1",{children:Object(c.jsx)("a",{id:"main",href:"/",children:"Charlotte Karlbom"})}),u,t]})}function K(e){var t=e.navigation.map((function(e,t){var n=Object(c.jsx)("section",{id:e.nav_link,children:Object(c.jsx)("h2",{children:e.title})},t);switch(e.title){case"signin":n=Object(c.jsx)(O.a,{exact:!0,path:"/singin",children:Object(c.jsx)(A,{})});break;case"home":n=Object(c.jsx)(O.a,{exact:!0,path:"/",children:Object(c.jsx)(j,{})});break;case"paintings":n=Object(c.jsx)(O.a,{exact:!0,path:"/paintings",children:Object(c.jsx)(Y,{})});break;case"sculptures":n=Object(c.jsx)(O.a,{exact:!0,path:"/sculptures",children:Object(c.jsx)(Z,{})});break;case"contact":n=Object(c.jsx)(O.a,{exact:!0,path:"/contact",children:Object(c.jsx)(q,{})});break;case"about":n=Object(c.jsx)(O.a,{exact:!0,path:"/about",children:Object(c.jsx)($,{})});break;default:n=Object(c.jsx)(O.a,{exact:!0,path:"/",children:Object(c.jsx)(j,{})})}return Object(c.jsx)(i.a.Fragment,{children:n},t)})),n=Object(c.jsx)(O.a,{path:"/admin",children:Object(c.jsx)(W,{})});return Object(c.jsxs)("main",{children:[t,n]})}function Y(e){return Object(c.jsx)("section",{id:"paintings",children:Object(c.jsx)(z,{pictureType:"paintings"})})}function Z(e){return Object(c.jsx)("section",{id:"sculptures",children:Object(c.jsx)(z,{pictureType:"sculpture"})})}function $(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)(!0),o=Object(l.a)(r,2),u=o[0],j=o[1];Object(a.useEffect)((function(){fetch("/about").then((function(e){return e.text()})).then((function(e){s(JSON.parse(e)[0]),j(!1)}))}),[]);var d=Object(c.jsx)("div",{class:"ui placeholder",children:Object(c.jsx)("div",{class:"image"})}),b=Object(c.jsxs)("div",{class:"ui placeholder",children:[Object(c.jsxs)("div",{class:"paragraph",children:[Object(c.jsx)("div",{class:"line"}),Object(c.jsx)("div",{class:"line"}),Object(c.jsx)("div",{class:"line"}),Object(c.jsx)("div",{class:"line"}),Object(c.jsx)("div",{class:"line"})]}),Object(c.jsxs)("div",{class:"paragraph",children:[Object(c.jsx)("div",{class:"line"}),Object(c.jsx)("div",{class:"line"}),Object(c.jsx)("div",{class:"line"})]})]});return!1===u&&(d=Object(c.jsx)("img",{src:i.profile_img}),b=Object(c.jsx)("div",{dangerouslySetInnerHTML:{__html:i.about_text}})),Object(c.jsxs)("section",{id:"about",children:[Object(c.jsx)("div",{className:"title",children:Object(c.jsx)("h1",{children:"Om mig"})}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-4",children:Object(c.jsx)("div",{className:"profile-img-container",children:d})}),Object(c.jsx)("div",{className:"col-8",children:Object(c.jsx)("div",{className:"description",children:b})})]})]})}function q(e){var t,n,i=Object(a.useState)(""),s=Object(l.a)(i,2),r=s[0],o=s[1],u=Object(a.useState)(""),j=Object(l.a)(u,2),d=j[0],m=j[1],O=Object(a.useState)(""),h=Object(l.a)(O,2),f=h[0],x=h[1],p=Object(a.useState)([]),g=Object(l.a)(p,2),v=g[0],N=g[1],S=Object(a.useState)(!1),w=Object(l.a)(S,2),y=w[0],k=w[1];function C(e){e.preventDefault();var t=[];if(0===r.length){t.push({msg:"Write something here",type:"name"})}else if(!r.match(undefined)){t.push({msg:"Please, don't use symbols",type:"name"})}if(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(d).toLowerCase())){t.push({msg:"Please, use a valid email",type:"email"})}N(t),0===t.length&&b.a.ajax({url:"/messages",type:"POST",data:{name:r,email:d,msg:f}}).done((function(e){k(!0),setTimeout((function(){window.location.href="/"}),3e3)}))}v.length>0&&v.forEach((function(e,a){"name"===e.type?t=Object(c.jsx)("small",{children:e.msg}):"email"===e.type&&(n=Object(c.jsx)("small",{children:e.msg}))}));var E=Object(c.jsx)("div",{id:"contact-container",children:Object(c.jsxs)("form",{className:"ui form",children:[Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{children:"Namn"}),Object(c.jsx)("input",{type:"text",value:r,className:"form-control",placeholder:"Namn",onChange:function(e){return function(e){o(e.target.value)}(e)}}),t]}),Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{children:"Emailadress"}),Object(c.jsx)("input",{type:"email",value:d,className:"form-control",placeholder:"Email",onChange:function(e){return function(e){m(e.target.value)}(e)}}),n]}),Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{children:"Ditt meddelande"}),Object(c.jsx)("textarea",{className:"form-control",rows:"5",onChange:function(e){return function(e){x(e.target.value)}(e)},children:f})]}),Object(c.jsx)("button",{type:"submit",onClick:function(e){return C(e)},className:"ui submit button",children:"Skicka meddelande"})]})});return!0===y&&(E=Object(c.jsx)("p",{children:"Tack f\xf6r ditt meddelande!"})),Object(c.jsx)("section",{id:"contact",children:E})}var Q=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),i=n[0],s=n[1];Object(a.useEffect)((function(){fetch("/navigation").then((function(e){return e.text()})).then((function(e){s(JSON.parse(e))}))}),[]);var r=Object(c.jsx)(G,{navigation:i});return-1!==window.location.href.indexOf("/admin")&&(r=""),Object(c.jsx)("div",{className:"app",children:Object(c.jsxs)(o.b,{children:[r,Object(c.jsx)(K,{navigation:i})]})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,346)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};r.a.render(Object(c.jsx)(m.a,{children:Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(Q,{})})}),document.getElementById("root")),X()}},[[326,1,2]]]);
//# sourceMappingURL=main.92403082.chunk.js.map