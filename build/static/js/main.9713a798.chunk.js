(this.webpackJsonpcharlee=this.webpackJsonpcharlee||[]).push([[0],{169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},261:function(e,t,n){},279:function(e,t,n){},284:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),i=n.n(a),s=n(28),r=n.n(s),l=(n(169),n(9)),j=(n(170),n(171),n(44));function o(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),i=n[0],s=n[1];var r="gallery-img-item";return!0===i&&(r+="  is-visible"),Object(c.jsx)("div",{className:r,children:Object(c.jsx)("div",{className:"image-container",children:Object(c.jsx)("img",{onLoad:function(){s(!0)},src:e.picture.filename})})})}var u=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)(!1),u=Object(l.a)(r,2),d=(u[0],u[1]),b=Object(a.useState)(0),h=Object(l.a)(b,2),O=h[0],m=h[1];function x(e,t){d(!0),m(t)}console.log(O),Object(a.useEffect)((function(){fetch("/pictures").then((function(e){return e.text()})).then((function(e){s(JSON.parse(e))}))}),[]);var p=i.map((function(e,t){return Object(c.jsx)(o,{picture:e,index:t,onGalleryImgClick:x})}));return Object(c.jsx)("section",{id:"gallery",children:Object(c.jsx)(j.a,{options:{thumbnails:{showThumbnails:!1},buttons:{showDownloadButton:!1}},children:Object(c.jsx)("div",{id:"gallery-pictures",children:p})})})},d=n(57),b=n.n(d),h=n(88),O=n(11),m=(n(260),n(115)),x=(n(261),n(151)),p=n.n(x);n(279);var f=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)({name:"",path:""}),j=Object(l.a)(r,2),o=j[0],u=j[1],d=Object(a.useState)(0),b=Object(l.a)(d,2),h=b[0],O=b[1],m=Object(a.useRef)();return Object(c.jsx)("div",{id:"file-upload-container",children:Object(c.jsxs)("div",{className:"file-upload",children:[Object(c.jsx)("input",{type:"file",ref:m,onChange:function(e){O(0);var t=e.target.files[0];console.log(t),s(t)}}),Object(c.jsx)("div",{className:"ui progress bar progessBar",style:{width:h},children:h}),Object(c.jsx)("button",{onClick:function(){var t=new FormData;t.append("file",i),p.a.post("http://localhost:80/upload",t,{onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100)+"%";O(t)}}).then((function(t){console.log(t),u({name:t.data.name,path:"http://localhost:80"+t.data.path}),e.updateInput(t.data.path)})).catch((function(e){return console.log(e)}))},className:"ui blue button upbutton",children:"Upload"}),Object(c.jsx)("hr",{}),o.path&&Object(c.jsx)("img",{src:o.path,alt:o.name})]})})},v=n(298),g=n(299),N=n(60),y=n(301);function k(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),s=n[0],r=n[1],j=Object(a.useState)([]),o=Object(l.a)(j,2),u=o[0],d=o[1],h=Object(a.useState)(!1),O=Object(l.a)(h,2),m=O[0],x=O[1],p=Object(a.useState)(!0),f=Object(l.a)(p,2),v=f[0],g=f[1],N=Object(a.useState)(null),y=Object(l.a)(N,2),k=y[0],C=y[1];function F(){g(!0),fetch(e.fetchUrl).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e),n=[];for(var c in t[0])n.push(c);d(n),r(JSON.parse(e)),window.scrollTo({top:0,behavior:"smooth"}),g(!1)}))}function I(e){g(!0),b.a.ajax({url:"/delete",type:"POST",data:{path:e.filename}}).done((function(t){console.log(t),b.a.ajax({url:"http://localhost:80/pictures/"+e.picture_id,type:"DELETE"}).done((function(e){console.log(e),F()}))}))}Object(a.useEffect)((function(){F()}),[]),Object(a.useEffect)((function(){null!==k&&x(!0)}),[k]);var T,E,J,P,L=u.map((function(e,t){return Object(c.jsx)("th",{scope:"col",children:e},t)})),U=s.map((function(e,t){return Object(c.jsxs)("tr",{children:[u.map((function(t,n){var a=e[t];return"filename"===t&&(a=Object(c.jsx)("img",{src:e[t],width:"50px",height:"50px"})),Object(c.jsx)("td",{children:a},n)})),Object(c.jsx)("td",{children:Object(c.jsx)(S,{item:e,deleteItem:I,setSelectedItem:C})})]},t)}));!1===m?("/pictures"===e.fetchUrl&&(J=Object(c.jsxs)("a",{onClick:function(){return x(!0)},className:"ui green basic button",children:[Object(c.jsx)("i",{className:"plus icon"}),"L\xe4gg till bild"]})),!0===v&&(P=Object(c.jsx)("div",{class:"ui active inverted dimmer",children:Object(c.jsx)("div",{class:"ui text loader",children:Object(c.jsx)("b",{children:"loading..."})})})),T=Object(c.jsxs)(i.a.Fragment,{children:[J,Object(c.jsxs)("div",{className:"dimmable",children:[P,Object(c.jsxs)("table",{className:"ui celled table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[L,Object(c.jsx)("th",{children:"update"})]})}),Object(c.jsx)("tbody",{children:U})]})]})]})):(console.log("selected item on parent"),console.log(k),E=Object(c.jsx)(w,{columns:u,selectedItem:k,onFinishFormSubmit:function(){x(!1),F()}}));return Object(c.jsxs)("div",{className:"admin-table-container",children:[T,E]})}function S(e){var t=i.a.useState(!1),n=Object(l.a)(t,2),a=n[0],s=n[1];return Object(c.jsxs)("div",{className:"table-row-user-menu",children:[Object(c.jsx)("button",{className:"ui icon blue button",onClick:function(){return e.setSelectedItem(e.item)},children:Object(c.jsx)("i",{className:"pencil alternate icon"})}),Object(c.jsxs)(v.a,{basic:!0,onClose:function(){return s(!1)},onOpen:function(){return s(!0)},open:a,size:"tiny",trigger:Object(c.jsx)(g.a,{icon:!0,color:"red",children:Object(c.jsx)(N.a,{name:"trash"})}),children:[Object(c.jsxs)(y.a,{icon:!0,children:[Object(c.jsx)(N.a,{name:"trash alternate outline"}),"Ta bort bild"]}),Object(c.jsx)(v.a.Content,{children:Object(c.jsx)("p",{children:"Vill du radera den h\xe4r bilden?"})}),Object(c.jsxs)(v.a.Actions,{children:[Object(c.jsxs)(g.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return s(!1)},children:[Object(c.jsx)(N.a,{name:"remove"})," Nej"]}),Object(c.jsxs)(g.a,{color:"green",inverted:!0,onClick:function(){return s(!1),void e.deleteItem(e.item)},children:[Object(c.jsx)(N.a,{name:"checkmark"})," Ja"]})]})]})]})}function w(e){var t=null!==e.selectedItem?e.selectedItem:{},n=Object(a.useState)(t),i=Object(l.a)(n,2),s=i[0],r=i[1];function j(e){var t=Object(m.a)(Object(m.a)({},s),e);r(t)}console.log(e);var o=e.columns.map((function(t,n){var a=!0;if(("created_at"===t||t.indexOf("_id")>-1)&&(a=!1),!0===a){var i=null;return null!==e.selectedItem&&(i=e.selectedItem[t]),Object(c.jsx)(C,{column:t,defaultValue:i,onUpdateFormField:j},n)}}));return Object(c.jsx)("div",{className:"add-item-form",children:Object(c.jsxs)("div",{className:"ui form",children:[o,Object(c.jsx)("button",{className:"ui button",onClick:function(){console.log(s);var t="/pictures",n="POST";null!==e.selectedItem&&(console.log("hello what why?"),t+="/"+s.picture_id,n="PUT"),b.a.ajax({url:t,type:n,data:s}).done((function(t){console.log(t),e.onFinishFormSubmit()}))},children:null!==e.selectedItem?"Uppdatera bild":"L\xe4gg till Bild"})]})})}function C(e){var t=null!==e.defaultValue?e.defaultValue:"",n=Object(a.useState)(t),s=Object(l.a)(n,2),r=s[0],j=s[1];function o(e){j(e)}Object(a.useEffect)((function(){var t={};t[e.column]=r,e.onUpdateFormField(t)}),[r]);var u=Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsx)("label",{children:"Titel"}),Object(c.jsx)("input",{value:r,onChange:function(e){return o(e.target.value)},placeholder:e.column,type:"text"})]});switch(e.column){case"filename":u=null===e.defaultValue?Object(c.jsx)("div",{id:"form-img-container",children:Object(c.jsx)(f,{updateInput:o})}):Object(c.jsx)("div",{id:"form-img-container",children:Object(c.jsx)("img",{src:e.defaultValue})});break;case"picture_type":u=Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsx)("label",{children:"Gallery"}),Object(c.jsxs)("select",{onChange:function(e){return o(e.target.value)},children:[Object(c.jsx)("option",{value:"",children:"Gallery"}),Object(c.jsx)("option",{selected:"paintings"===e.defaultValue?"selected":"",value:"paintings",children:"Tavlor"}),Object(c.jsx)("option",{selected:"sculptures"===e.defaultValue?"selected":"",value:"sculpture",children:"Skulpturer"})]})]});break;case"description":u=Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsx)("label",{children:"Beskrivning"}),Object(c.jsx)("textarea",{onChange:function(e){return o(e.target.value)},rows:"2",children:r})]});break;case"price":u=Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsx)("label",{children:"Pris"}),Object(c.jsxs)("div",{className:"ui right labeled input",children:[Object(c.jsx)("input",{value:r,onChange:function(e){return o(e.target.value)},type:"text"}),Object(c.jsx)("div",{className:"ui basic label",children:"kr"})]})]});break;default:u=Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsx)("label",{children:"Titel"}),Object(c.jsx)("input",{value:r,onChange:function(e){return o(e.target.value)},placeholder:e.column,type:"text"})]})}return Object(c.jsx)("div",{className:"field",children:u})}var F=function(e){var t=Object(a.useState)(["pictures","messages"]),n=Object(l.a)(t,2),i=n[0],s=(n[1],Object(a.useState)("admin")),r=Object(l.a)(s,2),j=r[0],o=r[1],u=i.map((function(e,t){var n="item";return j===e&&(n+=" active"),Object(c.jsx)("a",{className:n,onClick:function(){return o(e)},children:e})})),d=Object(c.jsx)("div",{children:"Hello im admin homepage"});"admin"!==j&&(d=i.map((function(e,t){if(j===e)return Object(c.jsx)(k,{fetchUrl:"/"+e},t)})));var b="item";return"admin"===j&&(b+=" active"),Object(c.jsxs)("section",{id:"admin",children:[Object(c.jsx)("nav",{children:Object(c.jsxs)("div",{className:"ui secondary pointing menu",children:[Object(c.jsx)("a",{className:b,onClick:function(){return o("admin")},children:"Admin main"}),u]})}),d]})};function I(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),i=n[0],s=n[1];console.log(i);var r=e.subArray.map((function(e,t){return Object(c.jsx)(T,{picture:e,hovered:i,setHovered:s},t)}));return Object(c.jsx)("div",{className:"container",children:r})}function T(e){var t=e.picture,n={};return null!==e.hovered&&e.hovered!==t.picture_id&&(n={display:"none"}),Object(c.jsxs)("div",{className:"box",onMouseEnter:function(){return e.setHovered(t.picture_id)},onMouseLeave:function(){return e.setHovered(null)},children:[Object(c.jsx)("img",{src:t.filename}),Object(c.jsxs)("div",{className:"ui grid my-grid",children:[Object(c.jsxs)("div",{className:"twelve wide column twelve-wide",children:[Object(c.jsx)("h2",{children:t.caption}),Object(c.jsx)("p",{children:t.description})]}),Object(c.jsx)("div",{className:"four wide column four-wide",children:Object(c.jsxs)("span",{style:n,children:[t.price.split("kr")[0],Object(c.jsx)("span",{style:{marginLeft:"3px"},children:"kr"})]})})]})]})}var E=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),i=n[0],s=n[1];Object(a.useEffect)((function(){fetch("/pictures/"+e.pictureType).then((function(e){return e.text()})).then((function(e){var t,n=(t=2,JSON.parse(e).reduce((function(e,n,c){var a=Math.floor(c/t);return e[a]||(e[a]=[]),e[a].push(n),e}),[]));s(n)}))}),[]);var r=i.map((function(e,t){return Object(c.jsx)(I,{subArray:e},t)}));return Object(c.jsx)("div",{className:"sub-gallery",children:Object(c.jsx)(j.a,{options:{thumbnails:{showThumbnails:!1},buttons:{showDownloadButton:!1}},children:Object(c.jsx)("div",{id:"gallery-pictures",children:r})})})};function J(e){var t=e.navigation.map((function(e,t){return Object(c.jsx)("li",{children:Object(c.jsx)(h.b,{to:e.nav_link,children:e.title})},t)}));return Object(c.jsxs)("header",{children:[Object(c.jsx)("h1",{children:"Charlotte Karlbom"}),Object(c.jsx)("nav",{children:Object(c.jsx)("ul",{children:t})})]})}function P(e){var t=e.navigation.map((function(e,t){var n=Object(c.jsx)("section",{id:e.nav_link,children:Object(c.jsx)("h2",{children:e.title})},t);switch(e.title){case"home":n=Object(c.jsx)(O.a,{exact:!0,path:"/",children:Object(c.jsx)(u,{})});break;case"paintings":n=Object(c.jsx)(O.a,{exact:!0,path:"/paintings",children:Object(c.jsx)(L,{})});break;case"sculptures":n=Object(c.jsx)(O.a,{exact:!0,path:"/sculptures",children:Object(c.jsx)(U,{})});break;case"contact":n=Object(c.jsx)(O.a,{exact:!0,path:"/contact",children:Object(c.jsx)(V,{})});break;case"about":n=Object(c.jsx)(O.a,{exact:!0,path:"/about",children:Object(c.jsx)(_,{})});break;default:n=Object(c.jsx)(O.a,{exact:!0,path:"/",children:Object(c.jsx)(u,{})})}return Object(c.jsx)(i.a.Fragment,{children:n},t)})),n=Object(c.jsx)(O.a,{path:"/admin",children:Object(c.jsx)(F,{})});return Object(c.jsxs)("main",{children:[t,n]})}function L(e){return Object(c.jsx)("section",{id:"paintings",children:Object(c.jsx)(E,{pictureType:"paintings"})})}function U(e){return Object(c.jsx)("section",{id:"sculptures",children:Object(c.jsx)(E,{pictureType:"sculpture"})})}function _(e){return Object(c.jsxs)("section",{id:"about",children:[Object(c.jsx)("div",{className:"title",children:Object(c.jsx)("h1",{children:"Om mig"})}),Object(c.jsxs)("div",{class:"row",children:[Object(c.jsx)("div",{class:"col-4",children:Object(c.jsx)("div",{className:"profile-img-container",children:Object(c.jsx)("img",{src:"img/pictures/profile.jpg"})})}),Object(c.jsx)("div",{class:"col-8",children:Object(c.jsx)("div",{className:"description",children:Object(c.jsxs)("p",{children:["Jag var verksam som sjukgymnast under drygt 15 ar, men har nu l\xe4mnat varden f\xf6r att kunna fokusera pa konsten.",Object(c.jsx)("br",{}),"Jag har alltid varit intresserad av konst och konsthantverk, arbetade tidigare mest med lera men f\xf6r dryga 10 ar sedan uppt\xe4ckte jag gl\xe4djen och fascinationen i att uttrycka mig genom maleriet.",Object(c.jsx)("br",{})," Jag \xe4r i huvudsak autodidakt, har gatt diverse kv\xe4lls- och dagkurser. Jag malar figurativt i olja och arbetar \xe4ven med collage i tidningspaper."]})})})]})]})}function V(e){var t,n,i=Object(a.useState)(""),s=Object(l.a)(i,2),r=s[0],j=s[1],o=Object(a.useState)(""),u=Object(l.a)(o,2),d=u[0],h=u[1],O=Object(a.useState)(""),m=Object(l.a)(O,2),x=m[0],p=m[1],f=Object(a.useState)([]),v=Object(l.a)(f,2),g=v[0],N=v[1],y=Object(a.useState)(!1),k=Object(l.a)(y,2),S=k[0],w=k[1];function C(e){e.preventDefault();var t=[];if(0===r.length){t.push({msg:"Write something here",type:"name"})}else if(!r.match(undefined)){t.push({msg:"Please, don't use symbols",type:"name"})}if(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(d).toLowerCase())){t.push({msg:"Please, use a valid email",type:"email"})}N(t),0===t.length&&(console.log("what"),b.a.ajax({url:"/messages",type:"POST",data:{name:r,email:d,msg:x}}).done((function(e){w(!0)})))}g.length>0&&g.forEach((function(e,a){"name"===e.type?t=Object(c.jsx)("small",{children:e.msg}):"email"===e.type&&(n=Object(c.jsx)("small",{children:e.msg}))}));var F=Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Name"}),Object(c.jsx)("input",{type:"text",value:r,className:"form-control",placeholder:"Enter Name",onChange:function(e){return function(e){j(e.target.value)}(e)}}),t]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{for:"exampleInputEmail1",children:"Email address"}),Object(c.jsx)("input",{type:"email",value:d,className:"form-control",placeholder:"Enter email",onChange:function(e){return function(e){h(e.target.value)}(e)}}),n]}),Object(c.jsxs)("div",{class:"form-group",children:[Object(c.jsx)("label",{children:"Your message"}),Object(c.jsx)("textarea",{className:"form-control",rows:"5",onChange:function(e){return function(e){p(e.target.value)}(e)},children:x})]}),Object(c.jsx)("button",{type:"submit",onClick:function(e){return C(e)},className:"btn btn-primary",children:"Submit"})]});return!0===S&&(F=Object(c.jsx)("p",{children:"Form submitted!"})),Object(c.jsx)("section",{id:"contact",children:F})}var B=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),i=n[0],s=n[1];Object(a.useEffect)((function(){fetch("/navigation").then((function(e){return e.text()})).then((function(e){console.log(JSON.parse(e)),s(JSON.parse(e))}))}),[]);var r=Object(c.jsx)(J,{navigation:i});return-1!==window.location.href.indexOf("/admin")&&(r=""),Object(c.jsx)("div",{className:"app",children:Object(c.jsxs)(j.b,{children:[r,Object(c.jsx)(P,{navigation:i})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,303)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};r.a.render(Object(c.jsx)(h.a,{children:Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(B,{})})}),document.getElementById("root")),A()}},[[284,1,2]]]);
//# sourceMappingURL=main.9713a798.chunk.js.map